<%= stylesheet_link_tag "recipe_options" %>
<div class="row">
  <div class="col-md-12">
      <p class="jumbotron">MyMealz</p>
  </div>
</div>
<div class="row">
  <div class="col-md-4 col-md-offset-1">
    <input type="text" id="myInput" class="form-control" onkeyup="myFunction()" placeholder="Search for recipes..">
    <br>
  </div>
</div>

<div class="row">

  <div class="col-md-10 col-md-offset-1">
<table id="myTable" class="table table-hover ro_RecipeTable">
  <thead class="ro_TableHead">
    <th>Meal Name</th>
    <th>Ingredients</th>
    <th>Breakfast</th>
    <th>Lunch</th>
    <th>Dinner</th>
    <th>Day</th>
  </thead>
  <tbody class="ro_TableBody">
  <% tableRow = 0 %>
  <% if @meals.size > 0 %>
    <% counter = 0 %>
    <% @meals.each do |item| %>
      <% if item.UserID == current_user.id %>
        <tr onclick="openModal(<%=tableRow%>)">
          <td><%= item.MealName%></td>
          <td>
            <% for i in @proteinCollection[counter] %>
              <%= i.productName %>,
            <% end %>

            <% for i in @grainCollection[counter] %>
              <%= i.productName %>,
            <% end %>

            <% for i in @dairyCollection[counter] %>
              <%= i.productName %>,
            <% end %>

            <% for i in @vegeCollection[counter] %>
              <%= i.productName %>,
            <% end %>

            <% for i in @fruitCollection[counter] %>
              <%= i.productName %>,
            <% end %>

            <% for i in @fatsCollection[counter] %>
              <%= i.productName %>,
            <% end %>

            <% for i in @discCollection[counter] %>
              <%= i.productName %>,
            <% end %>
            <% counter += 1 %>
          </td>
            <% if (!item.IsDinnerItem) && (!item.IsLunchItem) && (!item.IsBreakfastItem) %>
              <td>Yes</td>
              <td>Yes</td>
              <td>Yes</td>
            <% else %>
              <td><% if(item.IsBreakfastItem) %> Yes <% else %> No <% end %></td>
              <td><% if(item.IsLunchItem) %> Yes <% else %> No <% end %></td>
              <td><% if(item.IsDinnerItem) %> Yes <% else %> No <% end %></td>
            <% end %>
          <td><%= @mealTime[tableRow]%></td>
        </tr>
        <% tableRow += 1 %>
      <% end %>
    <% end %>


  <% else %>
    <tr>
      <td colspan="5">No Meals have been saved.</td>
    </tr>
  <% end %>



</tbody>
</table>
</div>
</div>
<!-- Modal with content dynamically generated by showRecipeOptions.js.erb -->
<div id="myModal" class="ro_modal">
  <div><span class="ro_close cursor" onclick="closeModal()">&times;</span></div>

  <div id="recipeContent" class="ro_modal-content panel">
    <!-- Content found in _recipeDisplay.html.erb -->
  </div>
</div>
